# Fetching information from genome annotation file (gtf/gff) via simple commands

**1. 列出1.gtf文件中 XI 号染色体上的后 10 个 CDS （按照每个CDS终止位置的基因组坐标进行sort）。**

Command:
```
awk '$1=="XI"&&$3 =="CDS"{split($10,x,";");name = x[1];print name,$1,$2,$3,$4,$5;}' 1.gtf | sort -n -k 6 | tail
# 如果要全部打印每一行的信息会过于冗长，因此这里只打印前五行和基因名字
```
Result:
```
"YKR097W" XI ensembl CDS 631152 632798
"YKR098C" XI ensembl CDS 633029 635179
"YKR099W" XI ensembl CDS 635851 638283
"YKR100C" XI ensembl CDS 638904 639968
"YKR101W" XI ensembl CDS 640540 642501
"YKR102W" XI ensembl CDS 646356 649862
"YKR103W" XI ensembl CDS 653080 656733
"YKR104W" XI ensembl CDS 656836 657753
"YKR105C" XI ensembl CDS 658719 660464
"YKR106W" XI ensembl CDS 661442 663286
```
**2. 统计 IV 号染色体上各类 feature （1.gtf文件的第3列，有些注释文件中还应同时考虑第2列） 的数目，并按升序排列。**

Command:
```
grep '^IV' 1.gtf | cut -f 3 | sort | uniq -c | sort -n
```
Result:
```
853 start_codon
853 stop_codon
886 gene
886 transcript
895 CDS
933 exon
```
**3. 寻找不在 IV 号染色体上的所有负链上的基因中最长的2条 CDS 序列，输出他们的长度。**

Command:
```
grep -v IV 1.gtf | awk '$3=="CDS" && $7=="-"{print $5-$4+1;}' | sort -n | tail -2
```
Result:
```
12276
14730
```
**4. 寻找 XV 号染色体上长度最长的5条基因，并输出基因 id 及对应的长度。**

grep '^XV' 1.gtf | awk '$3 == "gene"{split($10,x,";");name = x[1];gsub("\"", "", name);print name,$5-$4+1}' | sort -n -k 2 | tail -5

YPL231W 5664
YPL283C 5728
YPL085W 6588
YPR117W 7470
YOL081W 9240

**5. 统计1.gtf列数。**

grep -v '^#' 1.gtf | awk 'END{print NF;}' 

28
 
